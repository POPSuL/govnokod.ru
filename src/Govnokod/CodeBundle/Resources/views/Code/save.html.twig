{% extends '::layout.html.twig' %}

{% block javascripts %}
{{ parent() }}
{% javascripts
        'codemirror-3.11/lib/codemirror.js'
        'js/code/save.js'
        output='js/compiled/save.js'
    %}
        <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
{% endblock %}

{% block stylesheets %}
{{ parent() }}
        <link rel="stylesheet" type="text/css" href="{{ asset('codemirror-3.11/lib/codemirror.css') }}" />
{% endblock %}

{% block content %}

<ol class="posts hatom">
    <li class="hentry">
        <form action="{% if code.id %}{{ path('code_edit', { 'id': code.id }) }}{% else %}{{ path('code_add') }}{% endif %}" method="POST" class="form-submit">
            <dl>
                <dt>{{ form_label(form.category, 'Раздел:') }}</dt>
                <dd>
                    {{ form_widget(form.category) }}
                    {{ form_errors(form.category) }}
                </dd>
                
                <dt>{{ form_label(form.body, 'Код:') }}</dt>
                <dd>
                    {{ form_errors(form.body) }}
                    {{ form_widget(form.body) }}
                </dd>
                
                <dt>{{ form_label(form.description, 'Описание:') }}</dt>
                <dd>
                    {{ form_errors(form.description) }}
                    {{ form_widget(form.description) }}
                </dd>
            </dl>
            
            <p>
                {{ form_widget(form._token) }}
                <input type="submit" value="Накласть" class="send" />
            </p>
        </form>
    </li>
</ol>
{% endblock %}